<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Boxicons -->
    <link href="https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css" rel="stylesheet"/>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
    <title>Modify Client</title>
</head>

<body>

<div class="home-content">
    <nav class="navbar navbar-light justify-content-center fs-1 mb-5 text-white" style="background:linear-gradient(19deg, #21D4FD 0%, #B721FF 100%);">Informations sur Personne</nav>
    <div class="container">
        <div class="text-center mb-4">

        <h4>Edit Personne Informations</h4>
        <p class="text-muted">Click update after changing any information</p>
        </div>
        <div class="container d-flex justify-content-center">
            <form method="POST" onsubmit="return validateForm()" style="width:50vw; min-width:300px;" th:object="${personneDto}">
                <div class="mb-3">
                    <label class="form-label">ID:</label>
                    <input readonly id="id" class="form-control" th:value="${personne.id}" >
                </div>
                <div class="mb-3">
                    <label class="form-label">First Name:</label>
                    <input id="firstName" class="form-control" th:field="${personneDto.prenom}" placeholder="Enter the first name">
                    <p th:if="${#fields.hasErrors('prenom')}" th:errorclass="text-danger" th:errors="${personneDto.prenom}"></p>
                </div>
                <div class="mb-3">
                    <label class="form-label">Last Name:</label>
                    <input id="lastName" th:field="${personneDto.nom}" class="form-control" placeholder="Enter the last name">
                    <p th:if="${#fields.hasErrors('nom')}" th:errorclass="text-danger" th:errors="${personneDto.nom}"></p>
                </div>
                <div class="mb-3">
                    <label class="form-label">Age:</label>
                    <input id="age" type="number" min="0" th:field="${personneDto.age}" class="form-control" placeholder="Enter the age">
                    <p th:if="${#fields.hasErrors('age')}" th:errorclass="text-danger" th:errors="${personneDto.age}"></p>
                </div>
                <div class="mb-3">
                    <label class="form-label">Address Mail:</label>
                    <input id="addressMail" th:field="${personneDto.adresseMail}" class="form-control" placeholder="Enter the address mail">
                    <p th:if="${#fields.hasErrors('adresseMail')}" th:errorclass="text-danger" th:errors="${personneDto.adresseMail}"></p>
                </div>
                <div class="mb-3">
                    <label class="form-label">Address:</label>
                    <input id="address" th:field="${personneDto.adresse}" class="form-control" placeholder="Enter the address">
                    <p th:if="${#fields.hasErrors('adresse')}" th:errorclass="text-danger" th:errors="${personneDto.adresse}"></p>
                </div>
                <div class="mb-3">
                    <label class="form-label">Functionality:</label>
                    <select class="form-select" th:field="${personneDto.typePersonne}">
                        <option value="Employee">Employee</option>
                        <option value="Manager">Manager</option>
                    </select>
                    <p th:if="${#fields.hasErrors('typePersonne')}" th:errorclass="text-danger" th:errors="${personneDto.typePersonne}"></p>
                </div>
                <div class="mb-3">
                    <label class="form-label">Initial Salary:</label>
                    <input id="initialSalary" type="number" min="0" th:field="${personneDto.initialSalaire}" class="form-control" placeholder="Enter the initial salary">
                    <p th:if="${#fields.hasErrors('initialSalaire')}" th:errorclass="text-danger" th:errors="${personneDto.initialSalaire}"></p>
                </div>
                <div class="mb-3">
                    <label class="form-label">Prime:</label>
                    <input id="prime" type="number" min="0" th:field="${personneDto.prime}" class="form-control" placeholder="Enter the prime">
                    <p th:if="${#fields.hasErrors('prime')}" th:errorclass="text-danger" th:errors="${personneDto.prime}"></p>
                </div>
                <button type="submit" class="btn btn-success btn-lg">Submit</button>
                <a class="btn btn-danger btn-lg" href="/personnes">Cancel</a>
            </form>

        </div>
    </div>
</div>
</body>
</html>
<script>
    function validateForm() {
        var firstName = document.getElementById("firstName").value.trim();
        var lastName = document.getElementById("lastName").value.trim();
        var age = document.getElementById("age").value.trim();
        var addressMail = document.getElementById("addressMail").value.trim();
        var address = document.getElementById("address").value.trim();

        if (firstName === "" || lastName === "" || age === "" || addressMail === "" || address === "") {
            alert("Please fill in all fields");
            return false;
        }
        return true;
    }

</script>